<UserControl x:Class="View.CreateMedicalRecordView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:View">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="32">
            <!-- Form -->
            <Border Background="White" CornerRadius="16" Effect="{StaticResource CardShadow}">
                <StackPanel Margin="32">
                    <TextBlock Text="Tạo phiếu chỉ định khám bệnh" FontSize="24" FontWeight="Bold" Margin="0,0,0,8"/>
                    <TextBlock Text="Chỉ định bệnh nhân đi khám các khoa/phòng chuyên môn" FontSize="16" Foreground="Gray" Margin="0,0,0,32"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Left Column -->
                        <StackPanel Grid.Column="0" Margin="0,0,16,0">
                            <!-- Appointment Selection -->
                            <TextBlock Text="Lịch hẹn:" FontWeight="Bold" Margin="0,0,0,8"/>
                            <ComboBox x:Name="AppointmentComboBox" Height="40" Margin="0,0,0,20" 
                                      DisplayMemberPath="DisplayText" SelectedValuePath="AppointmentId"
                                      Style="{StaticResource ModernComboBoxStyle}"/>

                            <!-- Patient Info (Read-only) -->
                            <TextBlock Text="Thông tin bệnh nhân:" FontWeight="Bold" Margin="0,0,0,8"/>
                            <TextBox x:Name="PatientInfoTextBox" Height="60" IsReadOnly="True" 
                                     TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                                     Style="{StaticResource ModernTextBoxStyle}" Margin="0,0,0,20"/>
                        </StackPanel>

                        <!-- Right Column -->
                        <StackPanel Grid.Column="1" Margin="16,0,0,0">
                            <!-- Specialization Selection -->
                            <TextBlock Text="Chuyên khoa:" FontWeight="Bold" Margin="0,0,0,8"/>
                            <ComboBox x:Name="SpecializationComboBox" Height="40" Margin="0,0,0,20" 
                                      DisplayMemberPath="Name" SelectedValuePath="Id"
                                      Style="{StaticResource ModernComboBoxStyle}"/>
                        </StackPanel>
                    </Grid>

                    <!-- Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                        <Button Content="Hủy" Style="{StaticResource SecondaryButtonStyle}" 
                                Width="100" Margin="0,0,12,0" Click="Cancel_Click"/>
                        <Button Content="Tạo phiếu chỉ định" Style="{StaticResource PrimaryButtonStyle}" 
                                Width="150" Click="CreateMedicalRecord_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl> 